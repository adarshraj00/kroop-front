{"version":3,"file":"static/js/406.ef1e1909.chunk.js","mappings":"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","sources":["api/books.js","hooks/useFetchBooks.js","components/DataTable.js","pages/Admin.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import axios from \"axios\";\nexport default {\n  saveNewBook: (book) => {\n    return axios.post(\"/api/books/add-new-book\", book, {\n      withCredentials: true,\n    });\n  },\n  getAllBooks: () => {\n    return axios.get(\"/api/books/all\", { withCredentials: true });\n  },\n  getAvailableBooks: () => {\n    return axios.get(\"/api/books/available\", { withCredentials: true });\n  },\n  incrementBookCount: (id) => {\n    return axios.put(`/api/books/increment-book-count/${id}`, {\n      withCredentials: true,\n    });\n  },\n  decrementBookCount: (id) => {\n    return axios.put(`/api/books/decrement-book-count/${id}`, {\n      withCredentials: true,\n    });\n  },\n  deleteBook: (id) => {\n    return axios.delete(`/api/books/${id}`, { withCredentials: true });\n  },\n  getRecommendations: (id) => {\n    return axios.get(\"/api/books/recommendations\", { withCredentials: true });\n  },\n  getSearchResults: ({author, title, startYear, endYear}) => {\n    let str = \"\";\n    if (author.length > 0) {\n      str += \"author=\" + author + \"&\";\n    }\n    if (title.length > 0) {\n      str += \"title=\" + title + \"&\";\n    }\n    if (startYear > 0) {\n      str += \"startYear=\" + startYear + \"&\";\n    }\n    if (endYear > 0) {\n      str += \"endYear=\" + endYear;\n    }\n    console.log(str)\n    return axios.get(`/api/books/search?${str}`, { withCredentials: true });\n  },\n  issueBook:(id)=>{\n    return axios.post(`api/books/issue/${id}`,{widthCredentials:true})\n  }\n};\n","import { useState, useEffect } from \"react\";\nimport booksApi from \"../api/books\";\nconst useFetch = (path, searchToggler) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [err, setErr] = useState(\"\");\n  useEffect(() => {\n    setIsLoading(true);\n    (async () => {\n      try {\n        let res;\n        if (path === \"/admin\") {\n          res = await booksApi.getAllBooks();\n        } else {\n          res = await booksApi.getAvailableBooks();\n        }\n        setData(res.data.books);\n        console.log(res.data.books);\n        setIsLoading(false);\n      } catch (err) {\n        console.log(err);\n        setErr(err.response.data);\n        setIsLoading(false);\n      }\n    })();\n  }, [searchToggler]);\n\n  return [isLoading, data, setData, err];\n};\n\nexport default useFetch;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport useFetch from \"../hooks/useFetchBooks\";\nimport booksApi from \"../api/books\";\nimport { useLocation } from \"react-router-dom\";\nconst DataTable = () => {\n  const location = useLocation();\n  const [filter, setFilter] = useState({\n    title: \"\",\n    author: \"\",\n    startYear: 0,\n    endYear: 0,\n  });\n  const [searchToggler, setSearchToggler] = useState(false);\n  const [isLoading, data, setData, err] = useFetch(\n    location.pathname,\n    searchToggler\n  );\n  const handleChange = (e) => {\n    console.log(e.target.name,e.target.value);\n    setFilter({ ...filter, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <p className=\"text-center text-2xl w-[100%]\">Search the database</p>\n      <div className=\"h-[20%] m-auto w-[100%] \">\n\n        <input\n          type=\"text\"\n          placeholder=\"search by author\"\n          name=\"author\"\n          onChange={handleChange}\n          value={filter.author}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"search by name\"\n          name=\"title\"\n          onChange={handleChange}\n          value={filter.title}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"startYear\"\n          name=\"startYear\"\n          onChange={handleChange}\n          value={filter.startYear}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"endYear\"\n          name=\"endYear\"\n          onChange={handleChange}\n          value={filter.endYear}\n        />\n        <div className=\"flex w-[100%] justify-around  m-2 \">\n          <button\n            onClick={() => {\n              setSearchToggler(!searchToggler);\n            }}\n          >\n            reset filter\n          </button>\n          <button\n            onClick={async () => {\n              let res = await booksApi.getSearchResults(filter);\n              console.log(res);\n              setData(res.data.books);\n            }}\n          >\n            search\n          </button>\n        </div>\n      </div>\n      <div className=\"p-2 h-[80%] text-center\">\n        <p className=\"text-2xl\">list of books</p>\n        <div className=\"border-2 h-[90%]\">\n          {isLoading && <p>loading...</p>}\n          {err && <p className=\"text-red-500\">{err.msg}</p>}\n          <div className=\"flex w-[80%] m-auto border-2 justify-around font-bold\">\n            <h2>author</h2>\n            <h2>title</h2>\n            <h2>year of publication</h2>\n            <h2>total count</h2>\n            <h2>available</h2>\n            {location.pathname === \"/admin\" && <h2>del</h2>}\n            {location.pathname === \"/user\" && <h2>issue book</h2>}\n          </div>\n          {data.map((book) => {\n            return (\n              <div\n                className=\"flex w-[80%] border-2 m-auto justify-around\"\n                key={book._id}\n              >\n                <p>{book.author}</p>\n                <p>{book.title}</p>\n                <p>{book.yearOfPublication}</p>\n                <div className=\"flex  cursor-pointer text-3xl\">\n                  {location.pathname === \"/admin\" && (\n                    <p\n                      onClick={async () => {\n                        try {\n                          let res = await booksApi.decrementBookCount(book._id);\n                          setData((data) =>\n                            data.map((b) =>\n                              b._id === book._id\n                                ? { ...b, noOfCopies: res.data.count }\n                                : b\n                            )\n                          );\n                        } catch (err) {\n                          console.log(err);\n                        }\n                      }}\n                    >\n                      -\n                    </p>\n                  )}\n                  <p>{book.noOfCopies}</p>\n                  {console.log(location)}\n                  {location.pathname === \"/admin\" && (\n                    <p\n                      onClick={async () => {\n                        try {\n                          let res = await booksApi.incrementBookCount(book._id);\n                          setData((data) =>\n                            data.map((b) =>\n                              b._id === book._id\n                                ? { ...b, noOfCopies: res.data.count }\n                                : b\n                            )\n                          );\n                        } catch (err) {\n                          console.log(err.response.data.msg);\n                        }\n                      }}\n                    >\n                      +\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <p>{book.noOfCopies - book.issueCount}</p>\n                </div>\n                <div className=\"cursor-pointer\">\n                  {location.pathname === \"/admin\" && (\n                    <p\n                      onClick={async () => {\n                        try {\n                          let res = await booksApi.deleteBook(book._id);\n                          setData((data) =>\n                            data.filter((b) => b._id !== book._id)\n                          );\n                        } catch (err) {\n                          console.log(err);\n                        }\n                      }}\n                    >\n                      delete\n                    </p>\n                  )}\n                  {location.pathname === \"/user\" && (\n                    <p\n                      onClick={async () => {\n                        try {\n                          let res = await booksApi.issueBook(book._id);\n                          setData((data) =>\n                            data.map((b) =>\n                              b._id === book._id\n                                ? { ...b, issueCount: res.data.book.issueCount }\n                                : b\n                            )\n                          );\n                        } catch (err) {\n                          alert(err);\n                        }\n                      }}\n                    >\n                      issue\n                    </p>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default DataTable;\n","import React from \"react\";\nimport DataTable from \"../components/DataTable\";\nimport { useState,useEffect } from \"react\";\nimport booksApi from \"../api/books\";\nimport sagaActions from \"../saga/sagaActions\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector ,useDispatch} from 'react-redux';\nimport Swal from \"sweetalert2\";\n\nconst Admin = () => {\n  const navigate=useNavigate()\n  const dispatch=useDispatch();\n  const [showForm, setShowForm] = useState(false);\n  const [form, setForm] = useState({\n    author: \"\",\n    title: \"\",\n    yearOfPublication: \"\",\n    noOfCopies: \"\",\n  });\n  const [err, setErr] = useState({\n    author: \"\",\n    title: \"\",\n    yearOfPublication: \"\",\n    noOfCopies: \"\",\n  });\n  const auth=useSelector(state=>state.auth)\n  const validate = () => {\n    let flag = 0;\n    if (form.author === \"\") {\n      setErr({ ...err, author: \"author is required\" });\n      flag = 1;\n    }\n    if (form.title === \"\") {\n      setErr({ ...err, title: \"title is required\" });\n      flag = 1;\n    }\n    if (form.yearOfPublication === \"\") {\n      setErr({ ...err, yearOfPublication: \"year of publication is required\" });\n      flag = 1;\n    }\n    if (form.noOfCopies === \"\") {\n      setErr({ ...err, noOfCopies: \"no of copies is required\" });\n      flag = 1;\n    }\n    if (flag === 1) {\n      return false;\n    }\n    return true;\n  };\n  const submit = async () => {\n    try {\n      if (!validate()) {\n        return;\n      }\n      const res = await booksApi.saveNewBook(form);\n      console.log(res);\n      setShowForm(false);\n      Swal.fire(\"done\", \"updated db\", \"success\");\n    } catch (err) {\n      console.log(err.response.data);\n      \n    }\n  };\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n    console.log(form);\n    if (e.target.value === \"\") {\n      setErr({ ...err, [e.target.name]: \"should not be empty\" });\n    } else {\n      setErr({ ...err, [e.target.name]: \"\" });\n    }\n  };\n  useEffect(()=>{\n    if(!auth.isAdmin && !auth.isUser){\n      navigate('/')\n    }\n  },[auth.isAdmin,auth.isUser])\n  return (\n    <div className=\"relative\">\n      <div className=\"text-3xl text-center\">\n        <p>Books Management System</p>\n        <p>Welcome Admin</p>\n      </div>\n      <div className=\"h-15 border-2 w-[20vw] m-auto mt-4 mb-4 flex justify-around  \">\n        <p\n          className=\"cursor-pointer\"\n          onClick={() => {\n            setShowForm(true);\n          }}\n        >\n          Add Book\n        </p>\n        <p className=\"text-red-500 cursor-pointer\" onClick={()=>dispatch({type:sagaActions.LOGOUT})}>LOGOUT</p>\n        {showForm && (\n          <div className=\"absolute border-4 w-[100vw] h-[100vh] m-auto  border-gray-500 top-0 left-0 \">\n            <div className=\"w-[50%] h-[50%] bg-white m-auto flex flex-col justify-center items-center \">\n              <div>\n                <p>Author</p>\n                <input type=\"text\" name=\"author\" onChange={handleChange} />\n                {err.author !== \"\" && (\n                  <p className=\"text-red-500\">{err.author}</p>\n                )}\n              </div>\n              <div>\n                <p>Title</p>\n                <input type=\"text\" name=\"title\" onChange={handleChange} />\n                {err.title !== \"\" && (\n                  <p className=\"text-red-500\">{err.title}</p>\n                )}\n              </div>\n              <div>\n                <p>Published year</p>\n                <input\n                  type=\"text\"\n                  name=\"yearOfPublication\"\n                  onChange={handleChange}\n                />\n                {err.yearOfPublication !== \"\" && (\n                  <p className=\"text-red-500\">{err.yearOfPublication}</p>\n                )}\n              </div>\n              <div>\n                <p>No of copies</p>\n                <input\n                  type=\"number\"\n                  name=\"noOfCopies\"\n                  onChange={handleChange}\n                />\n                {err.noOfCopies !== \"\" && (\n                  <p className=\"text-red-500\">{err.noOfCopies}</p>\n                )}\n              </div>\n              <p\n                className=\"border-2 w-[50%] text-center m-auto cursor-pointer\"\n                onClick={submit}\n              >\n                submit\n              </p>\n              <p\n                className=\"border-2 w-[50%] text-center m-auto cursor-pointer\"\n                onClick={() => setShowForm(false)}\n              >\n                close\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"border-red-700 border-2 w-[80vw] m-auto p-3 h-[80vh] overflow-scroll\">\n        <DataTable />\n      </div>\n    </div>\n  );\n};\n\nexport default Admin;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["saveNewBook","book","axios","withCredentials","getAllBooks","getAvailableBooks","incrementBookCount","id","decrementBookCount","deleteBook","getRecommendations","getSearchResults","author","title","startYear","endYear","str","length","console","log","issueBook","widthCredentials","path","searchToggler","useState","isLoading","setIsLoading","data","setData","err","setErr","useEffect","booksApi","res","books","response","location","useLocation","filter","setFilter","setSearchToggler","useFetch","pathname","handleChange","e","target","name","value","className","type","placeholder","onChange","onClick","msg","map","yearOfPublication","_id","b","noOfCopies","count","issueCount","alert","navigate","useNavigate","dispatch","useDispatch","showForm","setShowForm","form","setForm","auth","useSelector","state","validate","flag","submit","Swal","isAdmin","isUser","sagaActions","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined"],"sourceRoot":""}